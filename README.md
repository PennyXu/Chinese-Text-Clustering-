# 中文文本聚类分析工具

## 概述

这是一个基于机器学习的用户反馈智能聚类分析系统，专门针对中文文本数据进行处理和分析。系统通过TF-IDF特征提取和K-Means聚类算法，自动识别用户反馈中的主要问题类型，并利用AI进行聚类质量校验。

## 功能特性

- **中文文本预处理**：自动清洗文本，去除特殊字符，进行中文分词和停用词过滤
- **智能聚类分析**：使用TF-IDF和K-Means算法对文本进行自动聚类
- **业务规则验证**：通过AI助手验证聚类结果是否符合业务逻辑
- **自适应聚类**：自动寻找最优的聚类数量（1-20个簇）
- **关键词提取**：自动提取每个簇的关键词用于问题类型识别

## 安装依赖

```bash
pip install scikit-learn pandas jieba
```

## 核心函数说明

### `preprocess_chinese_text(text)`
中文文本预处理函数：
- 移除非中文字符和多余空白
- 使用jieba进行中文分词
- 过滤停用词和单字词

### `kmeans(df, num)`
聚类分析主函数：
- 对DataFrame中的文本进行TF-IDF向量化
- 执行K-Means聚类
- 返回最大簇的关键词和样本示例

### `pinpoint_the_cause()`
智能聚类优化函数：
- 在1-20个簇范围内自动寻找最优聚类方案
- 使用AI业务规则验证聚类质量
- 返回第一个通过验证的聚类结果

## 使用方法

1. 准备包含用户反馈的DataFrame，其中需包含`result`列
2. 调用`pinpoint_the_cause()`函数开始聚类分析
3. 系统会自动输出最优的聚类结果和关键词

## 输出结果

- **关键词**：聚类簇中最具代表性的10个关键词
- **样本示例**：该簇中的前5条典型反馈文本

## 业务验证规则

聚类结果被视为"理想"需满足：
1. 簇内所有反馈围绕1个核心问题类型
2. 不同簇的核心问题类型完全不同
3. 单个簇样本数≥2条（特殊情况除外）

## 注意事项

- 需要配置有效的AI API密钥和基础URL
- 停用词列表可根据具体业务场景调整
- 聚类数量会自动优化，范围1-20
- 系统会返回最优聚类结果对应的关键词和样本

## 适用场景

- 用户反馈自动分类
- 问题根因分析
- 产品质量监控
- 客服工单智能路由
